
    var pageVueRenderFn = function anonymous(
) {
with(this){return _c('div',{attrs:{"id":"app"}},[_c('header',{attrs:{"fixed":""}},[_c('navbar',{attrs:{"type":"dark"},scopedSlots:_u([{key:"brand",fn:function(){return [_c('a',{staticClass:"navbar-brand",attrs:{"href":"/index.html","title":"Home"}},[_v("System Design Primer")])]},proxy:true},{key:"right",fn:function(){return [_c('li',[_c('form',{staticClass:"navbar-form"},[_c('searchbar',{attrs:{"data":searchData,"placeholder":"Search","on-hit":searchCallback,"menu-align-right":""}})],1)])]},proxy:true}])},[_v(" "),_c('dropdown',{staticClass:"nav-link",scopedSlots:_u([{key:"header",fn:function(){return [_v("Solutions")]},proxy:true}])},[_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/mint/readme.html"}},[_v("mint")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/pastebin/readme.html"}},[_v("pastebin")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/query_cache/readme.html"}},[_v("query_cache")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/sales_rank/readme.html"}},[_v("sales_rank")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/scaling_aws/readme.html"}},[_v("scaling_aws")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/social_graph/readme.html"}},[_v("social_graph")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/twitter/readme.html"}},[_v("twitter")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"/solutions/system_design/web_crawler/readme.html"}},[_v("web_crawler")])])])],1)],1),_v(" "),_c('div',{attrs:{"id":"flex-body"}},[_c('overlay-source',{staticClass:"fixed-header-padding",attrs:{"id":"site-nav","tag-name":"nav","to":"site-nav"}},[_c('div',{staticClass:"site-nav-top"},[_c('div',{staticClass:"font-weight-bold mb-2",staticStyle:{"font-size":"1.25rem"}},[_v("Topics")])]),_v(" "),_c('div',{staticClass:"nav-component slim-scroll"},[_c('site-nav',[_c('overlay-source',{staticClass:"site-nav-list site-nav-list-root",attrs:{"tag-name":"ul","to":"mb-site-nav"}},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Preface\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Motivation.html"}},[_v("Motivation")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Ankiflashcards.html"}},[_v("Anki flashcards")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Indexof-system-design-topics.html"}},[_v("Index")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Studyguide.html"}},[_v("Study Guide")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Interview Questions\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Howto-approach-a-system-design-interview-question.html"}},[_v("How to approach a system design interview question")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Object-orienteddesign-interview-questions-with-solutions.html"}},[_v("OOP interview questions")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Systemdesign-interview-questions-with-solutions.html"}},[_v("System design interview questions")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Systemdesign-topics-start-here.html"}},[_v("System design topics")]),_v(" "),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Performancevs-scalability.html"}},[_v("Performance vs scalability")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Latencyvs-throughput.html"}},[_v("Latency vs throughput")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Availabilityvs-consistency.html"}},[_v("Availability vs consistency")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Consistencypatterns.html"}},[_v("Consistency patterns")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Availabilitypatterns.html"}},[_v("Availability patterns")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Domainname-system.html"}},[_v("Domain name system")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Contentdelivery-network.html"}},[_v("Content delivery network")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Loadbalancer.html"}},[_v("Load balancer")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Reverseproxy-(web-server).html"}},[_v("Reverse proxy (web server)")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Applicationlayer.html"}},[_v("Application layer")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Database.html"}},[_v("Database")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Cache.html"}},[_v("Cache")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Asynchronism.html"}},[_v("Asynchronism")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Communication.html"}},[_v("Communication")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Security.html"}},[_v("Security")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Misc\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Appendix.html"}},[_v("Appendix")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Underdevelopment.html"}},[_v("Under development")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Credits.html"}},[_v("Credits")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Contactinfo.html"}},[_v("Contact info")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/Contributing.html"}},[_v("Contributing")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"/contents/License.html"}},[_v("License")])])])])])])],1)],1)]),_v(" "),_m(0),_v(" "),_c('overlay-source',{staticClass:"fixed-header-padding",attrs:{"id":"page-nav","tag-name":"nav","to":"page-nav"}},[_c('div',{staticClass:"nav-component slim-scroll"},[_c('a',{pre:true,attrs:{"class":"navbar-brand page-nav-title","href":"#"}},[_v("Chapters of This Page")]),_v(" "),_c('overlay-source',{staticClass:"nav nav-pills flex-column my-0 small no-flex-wrap",attrs:{"id":"mb-page-nav","tag-name":"nav","to":"mb-page-nav"}},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#load-balancer"}},[_v("Load balancer‎")]),_v(" "),_c('nav',{staticClass:"nav nav-pills flex-column my-0 nested no-flex-wrap"},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#layer-4-load-balancing"}},[_v("Layer 4 load balancing‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#layer-7-load-balancing"}},[_v("Layer 7 load balancing‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#horizontal-scaling"}},[_v("Horizontal scaling‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#disadvantage-s-load-balancer"}},[_v("Disadvantage(s): load balancer‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#source-s-and-further-reading"}},[_v("Source(s) and further reading‎")])])])],1)])],1),_v(" "),_m(1)])}
};
    var pageVueStaticRenderFns = [function anonymous(
) {
with(this){return _c('div',{staticClass:"fixed-header-padding",attrs:{"id":"content-wrapper"}},[_c('br'),_v(" "),_c('h2',{attrs:{"id":"load-balancer"}},[_c('span',{staticClass:"anchor",attrs:{"id":"load-balancer"}}),_v("Load balancer"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#load-balancer","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',{attrs:{"align":"center"}},[_c('img',{attrs:{"src":"/images/h81n9iK.png"}}),_v(" "),_c('br'),_v(" "),_c('i',[_c('a',{attrs:{"href":"http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html"}},[_v("Source: Scalable system design patterns")])])]),_v(" "),_c('p',[_v("Load balancers distribute incoming client requests to computing resources such as application servers and databases.  In each case, the load balancer returns the response from the computing resource to the appropriate client.  Load balancers are effective at:")]),_v(" "),_c('ul',[_c('li',[_v("Preventing requests from going to unhealthy servers")]),_v(" "),_c('li',[_v("Preventing overloading resources")]),_v(" "),_c('li',[_v("Helping to eliminate a single point of failure")])]),_v(" "),_c('p',[_v("Load balancers can be implemented with hardware (expensive) or with software such as HAProxy.")]),_v(" "),_c('p',[_v("Additional benefits include:")]),_v(" "),_c('ul',[_c('li',[_c('strong',[_v("SSL termination")]),_v(" - Decrypt incoming requests and encrypt server responses so backend servers do not have to perform these potentially expensive operations\n"),_c('ul',[_c('li',[_v("Removes the need to install "),_c('a',{attrs:{"href":"https://en.wikipedia.org/wiki/X.509"}},[_v("X.509 certificates")]),_v(" on each server")])])]),_v(" "),_c('li',[_c('strong',[_v("Session persistence")]),_v(" - Issue cookies and route a specific client's requests to same instance if the web apps do not keep track of sessions")])]),_v(" "),_c('p',[_v("To protect against failures, it's common to set up multiple load balancers, either in "),_c('a',{attrs:{"href":"#active-passive"}},[_v("active-passive")]),_v(" or "),_c('a',{attrs:{"href":"#active-active"}},[_v("active-active")]),_v(" mode.")]),_v(" "),_c('p',[_v("Load balancers can route traffic based on various metrics, including:")]),_v(" "),_c('ul',[_c('li',[_v("Random")]),_v(" "),_c('li',[_v("Least loaded")]),_v(" "),_c('li',[_v("Session/cookies")]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://www.g33kinfo.com/info/round-robin-vs-weighted-round-robin-lb"}},[_v("Round robin or weighted round robin")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"#layer-4-load-balancing"}},[_v("Layer 4")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"#layer-7-load-balancing"}},[_v("Layer 7")])])]),_v(" "),_c('h3',{attrs:{"id":"layer-4-load-balancing"}},[_c('span',{staticClass:"anchor",attrs:{"id":"layer-4-load-balancing"}}),_v("Layer 4 load balancing"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#layer-4-load-balancing","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("Layer 4 load balancers look at info at the "),_c('a',{attrs:{"href":"#communication"}},[_v("transport layer")]),_v(" to decide how to distribute requests.  Generally, this involves the source, destination IP addresses, and ports in the header, but not the contents of the packet.  Layer 4 load balancers forward network packets to and from the upstream server, performing "),_c('a',{attrs:{"href":"https://www.nginx.com/resources/glossary/layer-4-load-balancing/"}},[_v("Network Address Translation (NAT)")]),_v(".")]),_v(" "),_c('h3',{attrs:{"id":"layer-7-load-balancing"}},[_c('span',{staticClass:"anchor",attrs:{"id":"layer-7-load-balancing"}}),_v("Layer 7 load balancing"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#layer-7-load-balancing","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("Layer 7 load balancers look at the "),_c('a',{attrs:{"href":"#communication"}},[_v("application layer")]),_v(" to decide how to distribute requests.  This can involve contents of the header, message, and cookies.  Layer 7 load balancers terminate network traffic, reads the message, makes a load-balancing decision, then opens a connection to the selected server.  For example, a layer 7 load balancer can direct video traffic to servers that host videos while directing more sensitive user billing traffic to security-hardened servers.")]),_v(" "),_c('p',[_v("At the cost of flexibility, layer 4 load balancing requires less time and computing resources than Layer 7, although the performance impact can be minimal on modern commodity hardware.")]),_v(" "),_c('h3',{attrs:{"id":"horizontal-scaling"}},[_c('span',{staticClass:"anchor",attrs:{"id":"horizontal-scaling"}}),_v("Horizontal scaling"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#horizontal-scaling","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("Load balancers can also help with horizontal scaling, improving performance and availability.  Scaling out using commodity machines is more cost efficient and results in higher availability than scaling up a single server on more expensive hardware, called "),_c('strong',[_v("Vertical Scaling")]),_v(".  It is also easier to hire for talent working on commodity hardware than it is for specialized enterprise systems.")]),_v(" "),_c('h4',{attrs:{"id":"disadvantage-s-horizontal-scaling"}},[_c('span',{staticClass:"anchor",attrs:{"id":"disadvantage-s-horizontal-scaling"}}),_v("Disadvantage(s): horizontal scaling"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#disadvantage-s-horizontal-scaling","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("Scaling horizontally introduces complexity and involves cloning servers\n"),_c('ul',[_c('li',[_v("Servers should be stateless: they should not contain any user-related data like sessions or profile pictures")]),_v(" "),_c('li',[_v("Sessions can be stored in a centralized data store such as a "),_c('a',{attrs:{"href":"#database"}},[_v("database")]),_v(" (SQL, NoSQL) or a persistent "),_c('a',{attrs:{"href":"#cache"}},[_v("cache")]),_v(" (Redis, Memcached)")])])]),_v(" "),_c('li',[_v("Downstream servers such as caches and databases need to handle more simultaneous connections as upstream servers scale out")])]),_v(" "),_c('h3',{attrs:{"id":"disadvantage-s-load-balancer"}},[_c('span',{staticClass:"anchor",attrs:{"id":"disadvantage-s-load-balancer"}}),_v("Disadvantage(s): load balancer"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#disadvantage-s-load-balancer","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("The load balancer can become a performance bottleneck if it does not have enough resources or if it is not configured properly.")]),_v(" "),_c('li',[_v("Introducing a load balancer to help eliminate a single point of failure results in increased complexity.")]),_v(" "),_c('li',[_v("A single load balancer is a single point of failure, configuring multiple load balancers further increases complexity.")])]),_v(" "),_c('h3',{attrs:{"id":"source-s-and-further-reading"}},[_c('span',{staticClass:"anchor",attrs:{"id":"source-s-and-further-reading"}}),_v("Source(s) and further reading"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#source-s-and-further-reading","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/"}},[_v("NGINX architecture")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"http://www.haproxy.org/download/1.2/doc/architecture.txt"}},[_v("HAProxy architecture guide")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"http://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones"}},[_v("Scalability")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://en.wikipedia.org/wiki/Load_balancing_(computing)"}},[_v("Wikipedia")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://www.nginx.com/resources/glossary/layer-4-load-balancing/"}},[_v("Layer 4 load balancing")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://www.nginx.com/resources/glossary/layer-7-load-balancing/"}},[_v("Layer 7 load balancing")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-listener-config.html"}},[_v("ELB listener config")])])]),_v(" "),_c('i',{staticClass:"fa fa-arrow-circle-up fa-lg d-print-none",attrs:{"id":"scroll-top-button","onclick":"handleScrollTop()","aria-hidden":"true"}})])}
},function anonymous(
) {
with(this){return _c('footer',[_c('div',{staticClass:"text-center"},[_c('small',[_v("[Generated by "),_c('a',{attrs:{"href":"https://markbind.org/"}},[_v("MarkBind 3.1.1")]),_v("]")])])])}
}];
  