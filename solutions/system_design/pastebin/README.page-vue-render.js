
    var pageVueRenderFn = function anonymous(
) {
with(this){return _c('div',{attrs:{"id":"app"}},[_c('header',{attrs:{"fixed":""}},[_c('navbar',{attrs:{"type":"dark"},scopedSlots:_u([{key:"brand",fn:function(){return [_c('a',{staticClass:"navbar-brand",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/index.html","title":"Home"}},[_v("System Design Primer")])]},proxy:true},{key:"right",fn:function(){return [_c('li',[_c('form',{staticClass:"navbar-form"},[_c('searchbar',{attrs:{"data":searchData,"placeholder":"Search","on-hit":searchCallback,"menu-align-right":""}})],1)])]},proxy:true}])},[_v(" "),_c('dropdown',{staticClass:"nav-link",scopedSlots:_u([{key:"header",fn:function(){return [_v("Solutions")]},proxy:true}])},[_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/mint/readme.html"}},[_v("mint")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/pastebin/readme.html"}},[_v("pastebin")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/query_cache/readme.html"}},[_v("query_cache")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/sales_rank/readme.html"}},[_v("sales_rank")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/scaling_aws/readme.html"}},[_v("scaling_aws")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/social_graph/readme.html"}},[_v("social_graph")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/twitter/readme.html"}},[_v("twitter")])]),_v(" "),_c('li',[_c('a',{staticClass:"dropdown-item",attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/solutions/system_design/web_crawler/readme.html"}},[_v("web_crawler")])])])],1)],1),_v(" "),_c('div',{attrs:{"id":"flex-body"}},[_c('overlay-source',{staticClass:"fixed-header-padding",attrs:{"id":"site-nav","tag-name":"nav","to":"site-nav"}},[_c('div',{staticClass:"site-nav-top"},[_c('div',{staticClass:"font-weight-bold mb-2",staticStyle:{"font-size":"1.25rem"}},[_v("Topics")])]),_v(" "),_c('div',{staticClass:"nav-component slim-scroll"},[_c('site-nav',[_c('overlay-source',{staticClass:"site-nav-list site-nav-list-root",attrs:{"tag-name":"ul","to":"mb-site-nav"}},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Preface\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Motivation.html"}},[_v("Motivation")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Ankiflashcards.html"}},[_v("Anki flashcards")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Indexof-system-design-topics.html"}},[_v("Index")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Studyguide.html"}},[_v("Study Guide")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Interview Questions\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Howto-approach-a-system-design-interview-question.html"}},[_v("How to approach a system design interview question")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Object-orienteddesign-interview-questions-with-solutions.html"}},[_v("OOP interview questions")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Systemdesign-interview-questions-with-solutions.html"}},[_v("System design interview questions")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Systemdesign-topics-start-here.html"}},[_v("System design topics")]),_v(" "),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Performancevs-scalability.html"}},[_v("Performance vs scalability")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Latencyvs-throughput.html"}},[_v("Latency vs throughput")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Availabilityvs-consistency.html"}},[_v("Availability vs consistency")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Consistencypatterns.html"}},[_v("Consistency patterns")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Availabilitypatterns.html"}},[_v("Availability patterns")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Domainname-system.html"}},[_v("Domain name system")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Contentdelivery-network.html"}},[_v("Content delivery network")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Loadbalancer.html"}},[_v("Load balancer")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Reverseproxy-(web-server).html"}},[_v("Reverse proxy (web server)")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Applicationlayer.html"}},[_v("Application layer")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Database.html"}},[_v("Database")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Cache.html"}},[_v("Cache")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Asynchronism.html"}},[_v("Asynchronism")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Communication.html"}},[_v("Communication")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Security.html"}},[_v("Security")])])])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-0",attrs:{"onclick":"handleSiteNavClick(this)"}},[_v("Misc\n\n"),_c('i',{staticClass:"site-nav-dropdown-btn-icon",attrs:{"onclick":"handleSiteNavClick(this.parentNode, false); event.stopPropagation();"}},[_c('span',{staticClass:"glyphicon glyphicon-menu-down",attrs:{"aria-hidden":"true"}})])]),_c('ul',{staticClass:"site-nav-dropdown-container site-nav-list"},[_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Appendix.html"}},[_v("Appendix")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Underdevelopment.html"}},[_v("Under development")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Credits.html"}},[_v("Credits")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Contactinfo.html"}},[_v("Contact info")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/Contributing.html"}},[_v("Contributing")])])]),_v(" "),_c('li',[_c('div',{staticClass:"site-nav-default-list-item site-nav-list-item-1",attrs:{"onclick":"handleSiteNavClick(this)"}},[_c('a',{attrs:{"href":"https://mazx4960.github.io/system-design-primer/contents/contents/License.html"}},[_v("License")])])])])])])],1)],1)]),_v(" "),_m(0),_v(" "),_c('overlay-source',{staticClass:"fixed-header-padding",attrs:{"id":"page-nav","tag-name":"nav","to":"page-nav"}},[_c('div',{staticClass:"nav-component slim-scroll"},[_c('a',{pre:true,attrs:{"class":"navbar-brand page-nav-title","href":"#"}},[_v("Chapters of This Page")]),_v(" "),_c('overlay-source',{staticClass:"nav nav-pills flex-column my-0 small no-flex-wrap",attrs:{"id":"mb-page-nav","tag-name":"nav","to":"mb-page-nav"}},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#design-pastebin-com-or-bit-ly"}},[_v("Design Pastebin.com (or Bit.ly)‎")]),_v(" "),_c('nav',{staticClass:"nav nav-pills flex-column my-0 nested no-flex-wrap"},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#step-1-outline-use-cases-and-constraints"}},[_v("Step 1: Outline use cases and constraints‎")]),_v(" "),_c('nav',{staticClass:"nav nav-pills flex-column my-0 nested no-flex-wrap"},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#use-cases"}},[_v("Use cases‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#constraints-and-assumptions"}},[_v("Constraints and assumptions‎")])]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#step-2-create-a-high-level-design"}},[_v("Step 2: Create a high level design‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#step-3-design-core-components"}},[_v("Step 3: Design core components‎")]),_v(" "),_c('nav',{staticClass:"nav nav-pills flex-column my-0 nested no-flex-wrap"},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#use-case-user-enters-a-block-of-text-and-gets-a-randomly-generated-link"}},[_v("Use case: User enters a block of text and gets a randomly generated link‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#use-case-user-enters-a-paste-s-url-and-views-the-contents"}},[_v("Use case: User enters a paste's url and views the contents‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#use-case-service-tracks-analytics-of-pages"}},[_v("Use case: Service tracks analytics of pages‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#use-case-service-deletes-expired-pastes"}},[_v("Use case: Service deletes expired pastes‎")])]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#step-4-scale-the-design"}},[_v("Step 4: Scale the design‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#additional-talking-points"}},[_v("Additional talking points‎")]),_v(" "),_c('nav',{staticClass:"nav nav-pills flex-column my-0 nested no-flex-wrap"},[_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#caching"}},[_v("Caching‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#asynchronism-and-microservices"}},[_v("Asynchronism and microservices‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#communications"}},[_v("Communications‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#security"}},[_v("Security‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#latency-numbers"}},[_v("Latency numbers‎")]),_v(" "),_c('a',{pre:true,attrs:{"class":"nav-link py-1","href":"#ongoing"}},[_v("Ongoing‎")])])])])],1)])],1),_v(" "),_m(1)])}
};
    var pageVueStaticRenderFns = [function anonymous(
) {
with(this){return _c('div',{staticClass:"fixed-header-padding",attrs:{"id":"content-wrapper"}},[_c('br'),_v(" "),_c('br'),_v(" "),_c('br'),_v(" "),_c('h1',{attrs:{"id":"design-pastebin-com-or-bit-ly"}},[_c('span',{staticClass:"anchor",attrs:{"id":"design-pastebin-com-or-bit-ly"}}),_v("Design "),_c('a',{attrs:{"href":"http://Pastebin.com"}},[_v("Pastebin.com")]),_v(" (or "),_c('a',{attrs:{"href":"http://Bit.ly"}},[_v("Bit.ly")]),_v(")"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#design-pastebin-com-or-bit-ly","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_c('em',[_v("Note: This document links directly to relevant areas found in the "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#index-of-system-design-topics"}},[_v("system design topics")]),_v(" to avoid duplication.  Refer to the linked content for general talking points, tradeoffs, and alternatives.")])]),_v(" "),_c('p',[_c('strong',[_v("Design "),_c('a',{attrs:{"href":"http://Bit.ly"}},[_v("Bit.ly")])]),_v(" - is a similar question, except pastebin requires storing the paste contents instead of the original unshortened url.")]),_v(" "),_c('h2',{attrs:{"id":"step-1-outline-use-cases-and-constraints"}},[_c('span',{staticClass:"anchor",attrs:{"id":"step-1-outline-use-cases-and-constraints"}}),_v("Step 1: Outline use cases and constraints"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#step-1-outline-use-cases-and-constraints","onclick":"event.stopPropagation()"}})]),_v(" "),_c('blockquote',[_c('p',[_v("Gather requirements and scope the problem.\nAsk questions to clarify use cases and constraints.\nDiscuss assumptions.")])]),_v(" "),_c('p',[_v("Without an interviewer to address clarifying questions, we'll define some use cases and constraints.")]),_v(" "),_c('h3',{attrs:{"id":"use-cases"}},[_c('span',{staticClass:"anchor",attrs:{"id":"use-cases"}}),_v("Use cases"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#use-cases","onclick":"event.stopPropagation()"}})]),_v(" "),_c('h4',{attrs:{"id":"we-ll-scope-the-problem-to-handle-only-the-following-use-cases"}},[_c('span',{staticClass:"anchor",attrs:{"id":"we-ll-scope-the-problem-to-handle-only-the-following-use-cases"}}),_v("We'll scope the problem to handle only the following use cases"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#we-ll-scope-the-problem-to-handle-only-the-following-use-cases","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_c('strong',[_v("User")]),_v(" enters a block of text and gets a randomly generated link\n"),_c('ul',[_c('li',[_v("Expiration\n"),_c('ul',[_c('li',[_v("Default setting does not expire")]),_v(" "),_c('li',[_v("Can optionally set a timed expiration")])])])])]),_v(" "),_c('li',[_c('strong',[_v("User")]),_v(" enters a paste's url and views the contents")]),_v(" "),_c('li',[_c('strong',[_v("User")]),_v(" is anonymous")]),_v(" "),_c('li',[_c('strong',[_v("Service")]),_v(" tracks analytics of pages\n"),_c('ul',[_c('li',[_v("Monthly visit stats")])])]),_v(" "),_c('li',[_c('strong',[_v("Service")]),_v(" deletes expired pastes")]),_v(" "),_c('li',[_c('strong',[_v("Service")]),_v(" has high availability")])]),_v(" "),_c('h4',{attrs:{"id":"out-of-scope"}},[_c('span',{staticClass:"anchor",attrs:{"id":"out-of-scope"}}),_v("Out of scope"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#out-of-scope","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_c('strong',[_v("User")]),_v(" registers for an account\n"),_c('ul',[_c('li',[_c('strong',[_v("User")]),_v(" verifies email")])])]),_v(" "),_c('li',[_c('strong',[_v("User")]),_v(" logs into a registered account\n"),_c('ul',[_c('li',[_c('strong',[_v("User")]),_v(" edits the document")])])]),_v(" "),_c('li',[_c('strong',[_v("User")]),_v(" can set visibility")]),_v(" "),_c('li',[_c('strong',[_v("User")]),_v(" can set the shortlink")])]),_v(" "),_c('h3',{attrs:{"id":"constraints-and-assumptions"}},[_c('span',{staticClass:"anchor",attrs:{"id":"constraints-and-assumptions"}}),_v("Constraints and assumptions"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#constraints-and-assumptions","onclick":"event.stopPropagation()"}})]),_v(" "),_c('h4',{attrs:{"id":"state-assumptions"}},[_c('span',{staticClass:"anchor",attrs:{"id":"state-assumptions"}}),_v("State assumptions"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#state-assumptions","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("Traffic is not evenly distributed")]),_v(" "),_c('li',[_v("Following a short link should be fast")]),_v(" "),_c('li',[_v("Pastes are text only")]),_v(" "),_c('li',[_v("Page view analytics do not need to be realtime")]),_v(" "),_c('li',[_v("10 million users")]),_v(" "),_c('li',[_v("10 million paste writes per month")]),_v(" "),_c('li',[_v("100 million paste reads per month")]),_v(" "),_c('li',[_v("10:1 read to write ratio")])]),_v(" "),_c('h4',{attrs:{"id":"calculate-usage"}},[_c('span',{staticClass:"anchor",attrs:{"id":"calculate-usage"}}),_v("Calculate usage"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#calculate-usage","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_c('strong',[_v("Clarify with your interviewer if you should run back-of-the-envelope usage calculations.")])]),_v(" "),_c('ul',[_c('li',[_v("Size per paste\n"),_c('ul',[_c('li',[_v("1 KB content per paste")]),_v(" "),_c('li',[_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("shortlink")]),_v(" - 7 bytes")]),_v(" "),_c('li',[_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("expiration_length_in_minutes")]),_v(" - 4 bytes")]),_v(" "),_c('li',[_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("created_at")]),_v(" - 5 bytes")]),_v(" "),_c('li',[_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("paste_path")]),_v(" - 255 bytes")]),_v(" "),_c('li',[_v("total = ~1.27 KB")])])]),_v(" "),_c('li',[_v("12.7 GB of new paste content per month\n"),_c('ul',[_c('li',[_v("1.27 KB per paste * 10 million pastes per month")]),_v(" "),_c('li',[_v("~450 GB of new paste content in 3 years")]),_v(" "),_c('li',[_v("360 million shortlinks in 3 years")]),_v(" "),_c('li',[_v("Assume most are new pastes instead of updates to existing ones")])])]),_v(" "),_c('li',[_v("4 paste writes per second on average")]),_v(" "),_c('li',[_v("40 read requests per second on average")])]),_v(" "),_c('p',[_v("Handy conversion guide:")]),_v(" "),_c('ul',[_c('li',[_v("2.5 million seconds per month")]),_v(" "),_c('li',[_v("1 request per second = 2.5 million requests per month")]),_v(" "),_c('li',[_v("40 requests per second = 100 million requests per month")]),_v(" "),_c('li',[_v("400 requests per second = 1 billion requests per month")])]),_v(" "),_c('h2',{attrs:{"id":"step-2-create-a-high-level-design"}},[_c('span',{staticClass:"anchor",attrs:{"id":"step-2-create-a-high-level-design"}}),_v("Step 2: Create a high level design"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#step-2-create-a-high-level-design","onclick":"event.stopPropagation()"}})]),_v(" "),_c('blockquote',[_c('p',[_v("Outline a high level design with all important components.")])]),_v(" "),_c('p',[_c('a',{attrs:{"href":"http://i.imgur.com/BKsBnmG.png","target":"_self"}},[_c('img',{staticClass:"img-fluid",attrs:{"src":"http://i.imgur.com/BKsBnmG.png","alt":""}})])]),_v(" "),_c('h2',{attrs:{"id":"step-3-design-core-components"}},[_c('span',{staticClass:"anchor",attrs:{"id":"step-3-design-core-components"}}),_v("Step 3: Design core components"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#step-3-design-core-components","onclick":"event.stopPropagation()"}})]),_v(" "),_c('blockquote',[_c('p',[_v("Dive into details for each core component.")])]),_v(" "),_c('h3',{attrs:{"id":"use-case-user-enters-a-block-of-text-and-gets-a-randomly-generated-link"}},[_c('span',{staticClass:"anchor",attrs:{"id":"use-case-user-enters-a-block-of-text-and-gets-a-randomly-generated-link"}}),_v("Use case: User enters a block of text and gets a randomly generated link"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#use-case-user-enters-a-block-of-text-and-gets-a-randomly-generated-link","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("We could use a "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#relational-database-management-system-rdbms"}},[_v("relational database")]),_v(" as a large hash table, mapping the generated url to a file server and path containing the paste file.")]),_v(" "),_c('p',[_v("Instead of managing a file server, we could use a managed "),_c('strong',[_v("Object Store")]),_v(" such as Amazon S3 or a "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#document-store"}},[_v("NoSQL document store")]),_v(".")]),_v(" "),_c('p',[_v("An alternative to a relational database acting as a large hash table, we could use a "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#key-value-store"}},[_v("NoSQL key-value store")]),_v(".  We should discuss the "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#sql-or-nosql"}},[_v("tradeoffs between choosing SQL or NoSQL")]),_v(".  The following discussion uses the relational database approach.")]),_v(" "),_c('ul',[_c('li',[_v("The "),_c('strong',[_v("Client")]),_v(" sends a create paste request to the "),_c('strong',[_v("Web Server")]),_v(", running as a "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#reverse-proxy-web-server"}},[_v("reverse proxy")])]),_v(" "),_c('li',[_v("The "),_c('strong',[_v("Web Server")]),_v(" forwards the request to the "),_c('strong',[_v("Write API")]),_v(" server")]),_v(" "),_c('li',[_v("The "),_c('strong',[_v("Write API")]),_v(" server does the following:\n"),_c('ul',[_c('li',[_v("Generates a unique url\n"),_c('ul',[_c('li',[_v("Checks if the url is unique by looking at the "),_c('strong',[_v("SQL Database")]),_v(" for a duplicate")]),_v(" "),_c('li',[_v("If the url is not unique, it generates another url")]),_v(" "),_c('li',[_v("If we supported a custom url, we could use the user-supplied (also check for a duplicate)")])])]),_v(" "),_c('li',[_v("Saves to the "),_c('strong',[_v("SQL Database")]),_v(" "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("pastes")]),_v(" table")]),_v(" "),_c('li',[_v("Saves the paste data to the "),_c('strong',[_v("Object Store")])]),_v(" "),_c('li',[_v("Returns the url")])])])]),_v(" "),_c('p',[_c('strong',[_v("Clarify with your interviewer how much code you are expected to write")]),_v(".")]),_v(" "),_c('p',[_v("The "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("pastes")]),_v(" table could have the following structure:")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs"}},[_c('span',[_v("shortlink char(7) NOT NULL\n")]),_c('span',[_v("expiration_length_in_minutes int NOT NULL\n")]),_c('span',[_v("created_at datetime NOT NULL\n")]),_c('span',[_v("paste_path varchar(255) NOT NULL\n")]),_c('span',[_v("PRIMARY KEY(shortlink)\n")])])]),_c('p',[_v("Setting the primary key to be based on the "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("shortlink")]),_v(" column creates an "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#use-good-indices"}},[_v("index")]),_v(" that the database uses to enforce uniqueness. We'll create an additional index on "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("created_at")]),_v(" to speed up lookups (log-time instead of scanning the entire table) and to keep the data in memory.  Reading 1 MB sequentially from memory takes about 250 microseconds, while reading from SSD takes 4x and from disk takes 80x longer."),_c('sup',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#latency-numbers-every-programmer-should-know"}},[_v("1")])])]),_v(" "),_c('p',[_v("To generate the unique url, we could:")]),_v(" "),_c('ul',[_c('li',[_v("Take the "),_c('a',{attrs:{"href":"https://en.wikipedia.org/wiki/MD5"}},[_c('strong',[_v("MD5")])]),_v(" hash of the user's ip_address + timestamp\n"),_c('ul',[_c('li',[_v("MD5 is a widely used hashing function that produces a 128-bit hash value")]),_v(" "),_c('li',[_v("MD5 is uniformly distributed")]),_v(" "),_c('li',[_v("Alternatively, we could also take the MD5 hash of randomly-generated data")])])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://www.kerstner.at/2012/07/shortening-strings-using-base-62-encoding/"}},[_c('strong',[_v("Base 62")])]),_v(" encode the MD5 hash\n"),_c('ul',[_c('li',[_v("Base 62 encodes to "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("[a-zA-Z0-9]")]),_v(" which works well for urls, eliminating the need for escaping special characters")]),_v(" "),_c('li',[_v("There is only one hash result for the original input and Base 62 is deterministic (no randomness involved)")]),_v(" "),_c('li',[_v("Base 64 is another popular encoding but provides issues for urls because of the additional "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("+")]),_v(" and "),_c('code',{pre:true,attrs:{"class":"hljs inline no-lang"}},[_v("/")]),_v(" characters")]),_v(" "),_c('li',[_v("The following "),_c('a',{attrs:{"href":"http://stackoverflow.com/questions/742013/how-to-code-a-url-shortener"}},[_v("Base 62 pseudocode")]),_v(" runs in O(k) time where k is the number of digits = 7:")])])])]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs python"}},[_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-function"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("def")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("base_encode")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("num, base="),_c('span',{pre:true,attrs:{"class":"hljs-number"}},[_v("62")])]),_v("):")]),_v("\n")]),_c('span',[_v("    digits = []\n")]),_c('span',[_v("    "),_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("while")]),_v(" num > "),_c('span',{pre:true,attrs:{"class":"hljs-number"}},[_v("0")]),_v("\n")]),_c('span',[_v("      remainder = modulo(num, base)\n")]),_c('span',[_v("      digits.push(remainder)\n")]),_c('span',[_v("      num = divide(num, base)\n")]),_c('span',[_v("    digits = digits.reverse\n")])])]),_c('ul',[_c('li',[_v("Take the first 7 characters of the output, which results in 62^7 possible values and should be sufficient to handle our constraint of 360 million shortlinks in 3 years:")])]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs python"}},[_c('span',[_v("url = base_encode(md5(ip_address+timestamp))[:URL_LENGTH]\n")])])]),_c('p',[_v("We'll use a public "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#representational-state-transfer-rest"}},[_c('strong',[_v("REST API")])]),_v(":")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs"}},[_c('span',[_v("$ curl -X POST --data '{ \"expiration_length_in_minutes\": \"60\", \\\n")]),_c('span',[_v("    \"paste_contents\": \"Hello World!\" }' https://pastebin.com/api/v1/paste\n")])])]),_c('p',[_v("Response:")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs"}},[_c('span',[_v("{\n")]),_c('span',[_v("    \"shortlink\": \"foobar\"\n")]),_c('span',[_v("}\n")])])]),_c('p',[_v("For internal communications, we could use "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#remote-procedure-call-rpc"}},[_v("Remote Procedure Calls")]),_v(".")]),_v(" "),_c('h3',{attrs:{"id":"use-case-user-enters-a-paste-s-url-and-views-the-contents"}},[_c('span',{staticClass:"anchor",attrs:{"id":"use-case-user-enters-a-paste-s-url-and-views-the-contents"}}),_v("Use case: User enters a paste's url and views the contents"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#use-case-user-enters-a-paste-s-url-and-views-the-contents","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("The "),_c('strong',[_v("Client")]),_v(" sends a get paste request to the "),_c('strong',[_v("Web Server")])]),_v(" "),_c('li',[_v("The "),_c('strong',[_v("Web Server")]),_v(" forwards the request to the "),_c('strong',[_v("Read API")]),_v(" server")]),_v(" "),_c('li',[_v("The "),_c('strong',[_v("Read API")]),_v(" server does the following:\n"),_c('ul',[_c('li',[_v("Checks the "),_c('strong',[_v("SQL Database")]),_v(" for the generated url\n"),_c('ul',[_c('li',[_v("If the url is in the "),_c('strong',[_v("SQL Database")]),_v(", fetch the paste contents from the "),_c('strong',[_v("Object Store")])]),_v(" "),_c('li',[_v("Else, return an error message for the user")])])])])])]),_v(" "),_c('p',[_v("REST API:")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs"}},[_c('span',[_v("$ curl https://pastebin.com/api/v1/paste?shortlink=foobar\n")])])]),_c('p',[_v("Response:")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs"}},[_c('span',[_v("{\n")]),_c('span',[_v("    \"paste_contents\": \"Hello World\"\n")]),_c('span',[_v("    \"created_at\": \"YYYY-MM-DD HH:MM:SS\"\n")]),_c('span',[_v("    \"expiration_length_in_minutes\": \"60\"\n")]),_c('span',[_v("}\n")])])]),_c('h3',{attrs:{"id":"use-case-service-tracks-analytics-of-pages"}},[_c('span',{staticClass:"anchor",attrs:{"id":"use-case-service-tracks-analytics-of-pages"}}),_v("Use case: Service tracks analytics of pages"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#use-case-service-tracks-analytics-of-pages","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("Since realtime analytics are not a requirement, we could simply "),_c('strong',[_v("MapReduce")]),_v(" the "),_c('strong',[_v("Web Server")]),_v(" logs to generate hit counts.")]),_v(" "),_c('p',[_c('strong',[_v("Clarify with your interviewer how much code you are expected to write")]),_v(".")]),_v(" "),_c('pre',[_c('code',{pre:true,attrs:{"class":"hljs python"}},[_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-class"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("class")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("HitCounts")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("MRJob")]),_v("):")]),_v("\n")]),_c('span',[_v("\n")]),_c('span',[_v("    "),_c('span',{pre:true,attrs:{"class":"hljs-function"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("def")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("extract_url")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("self, line")]),_v("):")]),_v("\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("\"\"\"Extract the generated url from the log line.\"\"\"")]),_v("\n")]),_c('span',[_v("        ...\n")]),_c('span',[_v("\n")]),_c('span',[_v("    "),_c('span',{pre:true,attrs:{"class":"hljs-function"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("def")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("extract_year_month")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("self, line")]),_v("):")]),_v("\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("\"\"\"Return the year and month portions of the timestamp.\"\"\"")]),_v("\n")]),_c('span',[_v("        ...\n")]),_c('span',[_v("\n")]),_c('span',[_v("    "),_c('span',{pre:true,attrs:{"class":"hljs-function"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("def")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("mapper")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("self, _, line")]),_v("):")]),_v("\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("\"\"\"Parse each log line, extract and transform relevant lines.")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}}),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        Emit key value pairs of the form:")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}}),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        (2016-01, url0), 1")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        (2016-01, url0), 1")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        (2016-01, url1), 1")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        \"\"\"")]),_v("\n")]),_c('span',[_v("        url = self.extract_url(line)\n")]),_c('span',[_v("        period = self.extract_year_month(line)\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("yield")]),_v(" (period, url), "),_c('span',{pre:true,attrs:{"class":"hljs-number"}},[_v("1")]),_v("\n")]),_c('span',[_v("\n")]),_c('span',[_v("    "),_c('span',{pre:true,attrs:{"class":"hljs-function"}},[_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("def")]),_v(" "),_c('span',{pre:true,attrs:{"class":"hljs-title"}},[_v("reducer")]),_v("("),_c('span',{pre:true,attrs:{"class":"hljs-params"}},[_v("self, key, values")]),_v("):")]),_v("\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("\"\"\"Sum values for each key.")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}}),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        (2016-01, url0), 2")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        (2016-01, url1), 1")]),_v("\n")]),_c('span',[_c('span',{pre:true,attrs:{"class":"hljs-string"}},[_v("        \"\"\"")]),_v("\n")]),_c('span',[_v("        "),_c('span',{pre:true,attrs:{"class":"hljs-keyword"}},[_v("yield")]),_v(" key, "),_c('span',{pre:true,attrs:{"class":"hljs-built_in"}},[_v("sum")]),_v("(values)\n")])])]),_c('h3',{attrs:{"id":"use-case-service-deletes-expired-pastes"}},[_c('span',{staticClass:"anchor",attrs:{"id":"use-case-service-deletes-expired-pastes"}}),_v("Use case: Service deletes expired pastes"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#use-case-service-deletes-expired-pastes","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("To delete expired pastes, we could just scan the "),_c('strong',[_v("SQL Database")]),_v(" for all entries whose expiration timestamp are older than the current timestamp.  All expired entries would then be deleted (or  marked as expired) from the table.")]),_v(" "),_c('h2',{attrs:{"id":"step-4-scale-the-design"}},[_c('span',{staticClass:"anchor",attrs:{"id":"step-4-scale-the-design"}}),_v("Step 4: Scale the design"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#step-4-scale-the-design","onclick":"event.stopPropagation()"}})]),_v(" "),_c('blockquote',[_c('p',[_v("Identify and address bottlenecks, given the constraints.")])]),_v(" "),_c('p',[_c('a',{attrs:{"href":"http://i.imgur.com/4edXG0T.png","target":"_self"}},[_c('img',{staticClass:"img-fluid",attrs:{"src":"http://i.imgur.com/4edXG0T.png","alt":""}})])]),_v(" "),_c('p',[_c('strong',[_v("Important: Do not simply jump right into the final design from the initial design!")])]),_v(" "),_c('p',[_v("State you would do this iteratively: 1) "),_c('strong',[_v("Benchmark/Load Test")]),_v(", 2) "),_c('strong',[_v("Profile")]),_v(" for bottlenecks 3) address bottlenecks while evaluating alternatives and trade-offs, and 4) repeat.  See "),_c('a',{attrs:{"href":"/mazx4960.github.io/system-design-primer/contents/solutions/system_design/scaling_aws/README.html"}},[_v("Design a system that scales to millions of users on AWS")]),_v(" as a sample on how to iteratively scale the initial design.")]),_v(" "),_c('p',[_v("It's important to discuss what bottlenecks you might encounter with the initial design and how you might address each of them.  For example, what issues are addressed by adding a "),_c('strong',[_v("Load Balancer")]),_v(" with multiple "),_c('strong',[_v("Web Servers")]),_v("?  "),_c('strong',[_v("CDN")]),_v("?  "),_c('strong',[_v("Master-Slave Replicas")]),_v("?  What are the alternatives and "),_c('strong',[_v("Trade-Offs")]),_v(" for each?")]),_v(" "),_c('p',[_v("We'll introduce some components to complete the design and to address scalability issues.  Internal load balancers are not shown to reduce clutter.")]),_v(" "),_c('p',[_c('em',[_v("To avoid repeating discussions")]),_v(", refer to the following "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#index-of-system-design-topics"}},[_v("system design topics")]),_v(" for main talking points, tradeoffs, and alternatives:")]),_v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#domain-name-system"}},[_v("DNS")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#content-delivery-network"}},[_v("CDN")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#load-balancer"}},[_v("Load balancer")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#horizontal-scaling"}},[_v("Horizontal scaling")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#reverse-proxy-web-server"}},[_v("Web server (reverse proxy)")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#application-layer"}},[_v("API server (application layer)")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#cache"}},[_v("Cache")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#relational-database-management-system-rdbms"}},[_v("Relational database management system (RDBMS)")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#fail-over"}},[_v("SQL write master-slave failover")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#master-slave-replication"}},[_v("Master-slave replication")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#consistency-patterns"}},[_v("Consistency patterns")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#availability-patterns"}},[_v("Availability patterns")])])]),_v(" "),_c('p',[_v("The "),_c('strong',[_v("Analytics Database")]),_v(" could use a data warehousing solution such as Amazon Redshift or Google BigQuery.")]),_v(" "),_c('p',[_v("An "),_c('strong',[_v("Object Store")]),_v(" such as Amazon S3 can comfortably handle the constraint of 12.7 GB of new content per month.")]),_v(" "),_c('p',[_v("To address the 40 "),_c('em',[_v("average")]),_v(" read requests per second (higher at peak), traffic for popular content should be handled by the "),_c('strong',[_v("Memory Cache")]),_v(" instead of the database.  The "),_c('strong',[_v("Memory Cache")]),_v(" is also useful for handling the unevenly distributed traffic and traffic spikes.  The "),_c('strong',[_v("SQL Read Replicas")]),_v(" should be able to handle the cache misses, as long as the replicas are not bogged down with replicating writes.")]),_v(" "),_c('p',[_v("4 "),_c('em',[_v("average")]),_v(" paste writes per second (with higher at peak) should be do-able for a single "),_c('strong',[_v("SQL Write Master-Slave")]),_v(".  Otherwise, we'll need to employ additional SQL scaling patterns:")]),_v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#federation"}},[_v("Federation")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#sharding"}},[_v("Sharding")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#denormalization"}},[_v("Denormalization")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#sql-tuning"}},[_v("SQL Tuning")])])]),_v(" "),_c('p',[_v("We should also consider moving some data to a "),_c('strong',[_v("NoSQL Database")]),_v(".")]),_v(" "),_c('h2',{attrs:{"id":"additional-talking-points"}},[_c('span',{staticClass:"anchor",attrs:{"id":"additional-talking-points"}}),_v("Additional talking points"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#additional-talking-points","onclick":"event.stopPropagation()"}})]),_v(" "),_c('blockquote',[_c('p',[_v("Additional topics to dive into, depending on the problem scope and time remaining.")])]),_v(" "),_c('h4',{attrs:{"id":"nosql"}},[_c('span',{staticClass:"anchor",attrs:{"id":"nosql"}}),_v("NoSQL"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#nosql","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#key-value-store"}},[_v("Key-value store")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#document-store"}},[_v("Document store")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#wide-column-store"}},[_v("Wide column store")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#graph-database"}},[_v("Graph database")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#sql-or-nosql"}},[_v("SQL vs NoSQL")])])]),_v(" "),_c('h3',{attrs:{"id":"caching"}},[_c('span',{staticClass:"anchor",attrs:{"id":"caching"}}),_v("Caching"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#caching","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("Where to cache\n"),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#client-caching"}},[_v("Client caching")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#cdn-caching"}},[_v("CDN caching")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#web-server-caching"}},[_v("Web server caching")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#database-caching"}},[_v("Database caching")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#application-caching"}},[_v("Application caching")])])])]),_v(" "),_c('li',[_v("What to cache\n"),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#caching-at-the-database-query-level"}},[_v("Caching at the database query level")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#caching-at-the-object-level"}},[_v("Caching at the object level")])])])]),_v(" "),_c('li',[_v("When to update the cache\n"),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#cache-aside"}},[_v("Cache-aside")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#write-through"}},[_v("Write-through")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#write-behind-write-back"}},[_v("Write-behind (write-back)")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#refresh-ahead"}},[_v("Refresh ahead")])])])])]),_v(" "),_c('h3',{attrs:{"id":"asynchronism-and-microservices"}},[_c('span',{staticClass:"anchor",attrs:{"id":"asynchronism-and-microservices"}}),_v("Asynchronism and microservices"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#asynchronism-and-microservices","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#message-queues"}},[_v("Message queues")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#task-queues"}},[_v("Task queues")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#back-pressure"}},[_v("Back pressure")])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#microservices"}},[_v("Microservices")])])]),_v(" "),_c('h3',{attrs:{"id":"communications"}},[_c('span',{staticClass:"anchor",attrs:{"id":"communications"}}),_v("Communications"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#communications","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("Discuss tradeoffs:\n"),_c('ul',[_c('li',[_v("External communication with clients - "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#representational-state-transfer-rest"}},[_v("HTTP APIs following REST")])]),_v(" "),_c('li',[_v("Internal communications - "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#remote-procedure-call-rpc"}},[_v("RPC")])])])]),_v(" "),_c('li',[_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#service-discovery"}},[_v("Service discovery")])])]),_v(" "),_c('h3',{attrs:{"id":"security"}},[_c('span',{staticClass:"anchor",attrs:{"id":"security"}}),_v("Security"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#security","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("Refer to the "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#security"}},[_v("security section")]),_v(".")]),_v(" "),_c('h3',{attrs:{"id":"latency-numbers"}},[_c('span',{staticClass:"anchor",attrs:{"id":"latency-numbers"}}),_v("Latency numbers"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#latency-numbers","onclick":"event.stopPropagation()"}})]),_v(" "),_c('p',[_v("See "),_c('a',{attrs:{"href":"https://github.com/donnemartin/system-design-primer#latency-numbers-every-programmer-should-know"}},[_v("Latency numbers every programmer should know")]),_v(".")]),_v(" "),_c('h3',{attrs:{"id":"ongoing"}},[_c('span',{staticClass:"anchor",attrs:{"id":"ongoing"}}),_v("Ongoing"),_c('a',{staticClass:"fa fa-anchor",attrs:{"href":"#ongoing","onclick":"event.stopPropagation()"}})]),_v(" "),_c('ul',[_c('li',[_v("Continue benchmarking and monitoring your system to address bottlenecks as they come up")]),_v(" "),_c('li',[_v("Scaling is an iterative process")])]),_v(" "),_c('i',{staticClass:"fa fa-arrow-circle-up fa-lg d-print-none",attrs:{"id":"scroll-top-button","onclick":"handleScrollTop()","aria-hidden":"true"}})])}
},function anonymous(
) {
with(this){return _c('footer',[_c('div',{staticClass:"text-center"},[_c('small',[_v("[Generated by "),_c('a',{attrs:{"href":"https://markbind.org/"}},[_v("MarkBind 3.1.1")]),_v("]")])])])}
}];
  